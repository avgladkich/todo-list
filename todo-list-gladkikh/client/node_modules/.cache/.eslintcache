[{"/Users/agladkich/Diplom/todo-list-gladkikh/src/index.js":"1","/Users/agladkich/Diplom/todo-list-gladkikh/src/App.js":"2","/Users/agladkich/Diplom/todo-list-gladkikh/src/reportWebVitals.js":"3","/Users/agladkich/Downloads/fullstack-jwt-auth-master/client/src/index.tsx":"4","/Users/agladkich/Downloads/fullstack-jwt-auth-master/client/src/App.tsx":"5","/Users/agladkich/Downloads/fullstack-jwt-auth-master/client/src/store/store.ts":"6","/Users/agladkich/Downloads/fullstack-jwt-auth-master/client/src/services/UserService.ts":"7","/Users/agladkich/Downloads/fullstack-jwt-auth-master/client/src/services/AuthService.ts":"8","/Users/agladkich/Downloads/fullstack-jwt-auth-master/client/src/components/LoginForm.tsx":"9","/Users/agladkich/Downloads/fullstack-jwt-auth-master/client/src/http/index.ts":"10","/Users/agladkich/todo-list/todo-list-gladkikh/client/src/index.tsx":"11","/Users/agladkich/todo-list/todo-list-gladkikh/client/src/App.tsx":"12","/Users/agladkich/todo-list/todo-list-gladkikh/client/src/store/store.ts":"13","/Users/agladkich/todo-list/todo-list-gladkikh/client/src/services/AuthService.ts":"14","/Users/agladkich/todo-list/todo-list-gladkikh/client/src/services/UserService.ts":"15","/Users/agladkich/todo-list/todo-list-gladkikh/client/src/components/LoginForm.tsx":"16","/Users/agladkich/todo-list/todo-list-gladkikh/client/src/http/index.ts":"17","/Users/agladkich/todo-list/todo-list-gladkikh/client/src/components/Signin.tsx":"18","/Users/agladkich/todo-list/todo-list-gladkikh/client/src/components/Signup.tsx":"19"},{"size":535,"mtime":1652194935866,"results":"20","hashOfConfig":"21"},{"size":528,"mtime":1652194935866,"results":"22","hashOfConfig":"21"},{"size":362,"mtime":1652194935866,"results":"23","hashOfConfig":"21"},{"size":423,"mtime":1623580561000,"results":"24","hashOfConfig":"25"},{"size":1708,"mtime":1623580561000,"results":"26","hashOfConfig":"25"},{"size":2245,"mtime":1654345400701,"results":"27","hashOfConfig":"25"},{"size":313,"mtime":1623580561000,"results":"28","hashOfConfig":"25"},{"size":608,"mtime":1623580561000,"results":"29","hashOfConfig":"25"},{"size":1037,"mtime":1623580561000,"results":"30","hashOfConfig":"25"},{"size":1063,"mtime":1654345770897,"results":"31","hashOfConfig":"25"},{"size":423,"mtime":1623580561000,"results":"32","hashOfConfig":"33"},{"size":1773,"mtime":1654348887063,"results":"34","hashOfConfig":"33"},{"size":2332,"mtime":1654349566111,"results":"35","hashOfConfig":"33"},{"size":608,"mtime":1654349572740,"results":"36","hashOfConfig":"33"},{"size":313,"mtime":1623580561000,"results":"37","hashOfConfig":"33"},{"size":405,"mtime":1654333723816,"results":"38","hashOfConfig":"33"},{"size":1063,"mtime":1654348884670,"results":"39","hashOfConfig":"33"},{"size":3131,"mtime":1654333742186,"results":"40","hashOfConfig":"33"},{"size":3890,"mtime":1654349461936,"results":"41","hashOfConfig":"33"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1cnbouz",{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"5e9nou",{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"61"},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74"},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1eedbkc",{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"82"},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"82"},{"filePath":"87","messages":"88","suppressedMessages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","suppressedMessages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"93","messages":"94","suppressedMessages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"97","messages":"98","suppressedMessages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"82"},{"filePath":"100","messages":"101","suppressedMessages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"96"},{"filePath":"104","messages":"105","suppressedMessages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/agladkich/Diplom/todo-list-gladkikh/src/index.js",[],[],"/Users/agladkich/Diplom/todo-list-gladkikh/src/App.js",[],[],"/Users/agladkich/Diplom/todo-list-gladkikh/src/reportWebVitals.js",[],[],"/Users/agladkich/Downloads/fullstack-jwt-auth-master/client/src/index.tsx",[],[],"/Users/agladkich/Downloads/fullstack-jwt-auth-master/client/src/App.tsx",["107"],[],"/Users/agladkich/Downloads/fullstack-jwt-auth-master/client/src/store/store.ts",["108"],[],"import {IUser} from \"../models/IUser\";\nimport {makeAutoObservable} from \"mobx\";\nimport AuthService from \"../services/AuthService\";\nimport axios from 'axios';\nimport {AuthResponse} from \"../models/response/AuthResponse\";\nimport {API_URL} from \"../http\";\n\nexport default class Store {\n    user = {} as IUser;\n    isAuth = false;\n    isLoading = false;\n\n    constructor() {\n        makeAutoObservable(this);\n    }\n\n    setAuth(bool: boolean) {\n        this.isAuth = bool;\n    }\n\n    setUser(user: IUser) {\n        this.user = user;\n    }\n\n    setLoading(bool: boolean) {\n        this.isLoading = bool;\n    }\n\n    async login(email: string, password: string) {\n        try {\n            const response = await AuthService.login(email, password);\n            console.log(response)\n            localStorage.setItem('token', response.data.accessToken);\n            this.setAuth(true);\n            this.setUser(response.data.user);\n        } catch (e) {\n            console.log(e.response?.data?.message);\n        }\n    }\n\n    async registration(email: string, password: string) {\n        try {\n            const response = await AuthService.registration(email, password);\n            console.log(response)\n            localStorage.setItem('token', response.data.accessToken);\n            this.setAuth(true);\n            this.setUser(response.data.user);\n        } catch (e) {\n            console.log(e.response?.data?.message);\n        }\n    }\n\n    async logout() {\n        try {\n            const response = await AuthService.logout();\n            localStorage.removeItem('token');\n            this.setAuth(false);\n            this.setUser({} as IUser);\n        } catch (e) {\n            console.log(e.response?.data?.message);\n        }\n    }\n\n    async checkAuth() {\n        this.setLoading(true);\n        try {\n            const response = await axios.get<AuthResponse>(`${API_URL}/refresh`, {withCredentials: true})\n            console.log(response);\n            localStorage.setItem('token', response.data.accessToken);\n            this.setAuth(true);\n            this.setUser(response.data.user);\n        } catch (e) {\n            console.log(e.response?.data?.message);\n        } finally {\n            this.setLoading(false);\n        }\n    }\n}\n",[],"/Users/agladkich/Downloads/fullstack-jwt-auth-master/client/src/services/UserService.ts",["109"],[],"/Users/agladkich/Downloads/fullstack-jwt-auth-master/client/src/services/AuthService.ts",[],[],"/Users/agladkich/Downloads/fullstack-jwt-auth-master/client/src/components/LoginForm.tsx",[],[],"/Users/agladkich/Downloads/fullstack-jwt-auth-master/client/src/http/index.ts",["110","111"],[],"import axios from 'axios';\nimport {AuthResponse} from \"../models/response/AuthResponse\";\nimport {store} from \"../index\";\nimport {IUser} from \"../models/IUser\";\n\nexport const API_URL = `http://localhost:5000/api`\n\nconst $api = axios.create({\n    withCredentials: true,\n    baseURL: API_URL\n})\n\n$api.interceptors.request.use((config) => {\n    config.headers.Authorization = `Bearer ${localStorage.getItem('token')}`\n    return config;\n})\n\n$api.interceptors.response.use((config) => {\n    return config;\n},async (error) => {\n    const originalRequest = error.config;\n    if (error.response.status === 401 && error.config && !error.config._isRetry) {\n        originalRequest._isRetry = true;\n        try {\n            const response = await axios.get<AuthResponse>(`${API_URL}/refresh`, {withCredentials: true})\n            localStorage.setItem('token', response.data.accessToken);\n            return $api.request(originalRequest);\n        } catch (e) {\n            console.log('НЕ АВТОРИЗОВАН')\n        }\n    }\n    throw error;\n})\n\nexport default $api;\n","/Users/agladkich/todo-list/todo-list-gladkikh/client/src/index.tsx",[],[],"/Users/agladkich/todo-list/todo-list-gladkikh/client/src/App.tsx",["112","113"],[],"import { useContext, useEffect } from 'react';\nimport AppBar from '@mui/material/AppBar';\nimport { observer } from 'mobx-react-lite'\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\n\nimport { Context } from '.';\nimport LoginForm from './components/LoginForm';\n\nimport ExitToAppIcon from '@mui/icons-material/ExitToApp';\nimport './App.css';\nimport { Button } from '@mui/material';\n\n\n\nfunction App() {\n  const { store } = useContext(Context);\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      store.checkAuth();\n    }\n  }, []);\n\n  if (store.isLoading){\n    return (\n      <div>...Loading</div>\n    )\n  }\n\n  if (!store.isAuth) {\n    return (\n      <LoginForm />\n    )\n  }\n  console.log(localStorage.getItem('user'))\n\n  return (\n    <div>\n      <Toolbar sx={{ borderBottom: 1, borderColor: 'divider' }}>\n        <Typography  variant=\"subtitle1\" color={ store.user.isActivated ? 'primary' : 'error' }>\n          { store.user.isActivated ? 'Аккаунт подтвержден' : 'Аккаунт не подтвержден' }\n        </Typography>\n        <Typography\n          component=\"h2\"\n          variant=\"h5\"\n          color=\"inherit\"\n          align=\"center\"\n          noWrap\n          sx={{ flex: 1 }}\n        >\n         { `Добро пожаловать ${ store.user.email  }` }\n        </Typography>\n        <Button variant=\"outlined\" size=\"small\" onClick={ () => store.logout() }>\n          <ExitToAppIcon/>\n          Выйти из аккаунта\n        </Button>\n      </Toolbar>\n      <Toolbar\n        component=\"nav\"\n        variant=\"dense\"\n        sx={{ justifyContent: 'space-between', overflowX: 'auto' }}\n      >\n      </Toolbar>      \n    </div>\n  );\n}\n\nexport default observer(App);\n",[],"/Users/agladkich/todo-list/todo-list-gladkikh/client/src/store/store.ts",["114"],[],"import {IUser} from \"../models/IUser\";\nimport {makeAutoObservable} from \"mobx\";\nimport AuthService from \"../services/AuthService\";\nimport axios from 'axios';\nimport {AuthResponse} from \"../models/response/AuthResponse\";\nimport {API_URL} from \"../http\";\n\nexport default class Store {\n    user = {} as IUser;\n    isAuth = false;\n    isLoading = false;\n    isSignIn = false;\n\n    constructor() {\n        makeAutoObservable(this);\n    }\n\n    setAuth(bool: boolean) {\n        this.isAuth = bool;\n    }\n\n    setUser(user: IUser) {\n        this.user = user;\n    }\n\n    setLoading(bool: boolean) {\n        this.isLoading = bool;\n    }\n\n    setSignIn() {\n        this.isSignIn = !this.isSignIn;\n    }\n\n    async login(email: string, password: string) {\n        try {\n            const response = await AuthService.login(email, password);\n            console.log(response)\n            localStorage.setItem('token', response.data.accessToken);\n            this.setAuth(true);\n            this.setUser(response.data.user);\n        } catch (e) {\n            console.log(e.response?.data?.message);\n        }\n    }\n\n    async registration(email: string, password: string) {\n        try {\n            const response = await AuthService.registration(email, password);\n            console.log(response)\n            localStorage.setItem('token', response.data.accessToken);\n            this.setAuth(true);\n            this.setUser(response.data.user);\n        } catch (e) {\n            console.log(e.response?.data?.message);\n        }\n    }\n\n    async logout() {\n        try {\n            const response = await AuthService.logout();\n            localStorage.removeItem('token');\n            this.setAuth(false);\n            this.setUser({} as IUser);\n        } catch (e) {\n            console.log(e.response?.data?.message);\n        }\n    }\n\n    async checkAuth() {\n        this.setLoading(true);\n        try {\n            const response = await axios.get<AuthResponse>(`${API_URL}/refresh`, {withCredentials: true})\n            console.log(response);\n            localStorage.setItem('token', response.data.accessToken);\n            this.setAuth(true);\n            this.setUser(response.data.user);\n        } catch (e) {\n            console.log(e.response?.data?.message);\n        } finally {\n            this.setLoading(false);\n        }\n    }\n}\n","/Users/agladkich/todo-list/todo-list-gladkikh/client/src/services/AuthService.ts",[],[],"/Users/agladkich/todo-list/todo-list-gladkikh/client/src/services/UserService.ts",["115"],[],"/Users/agladkich/todo-list/todo-list-gladkikh/client/src/components/LoginForm.tsx",[],[],[],"/Users/agladkich/todo-list/todo-list-gladkikh/client/src/http/index.ts",["116","117"],[],"/Users/agladkich/todo-list/todo-list-gladkikh/client/src/components/Signin.tsx",["118"],[],"import React, { useContext, useState } from 'react'\nimport Avatar from '@mui/material/Avatar';\nimport Button from '@mui/material/Button';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport TextField from '@mui/material/TextField';\nimport Link from '@mui/material/Link';\nimport Box from '@mui/material/Box';\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\nimport Typography from '@mui/material/Typography';\nimport Container from '@mui/material/Container';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\n\nimport { observer } from 'mobx-react-lite';\nimport { Context } from '../index';\n\nconst theme = createTheme();\n\nfunction SignIn() {\n    const [email, setEmail] = useState<string>('');\n    const [password, setPassword] = useState<string>('');\n    const { store } = useContext(Context);\n\n  return (\n    <ThemeProvider theme={theme}>\n        <Container component=\"main\" maxWidth=\"xs\">\n          <CssBaseline />\n          <Box\n              sx={{\n                  marginTop: 8,\n                  display: 'flex',\n                  flexDirection: 'column',\n                  alignItems: 'center',\n              }}\n          >\n              <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\n                  <LockOutlinedIcon />\n              </Avatar>\n              <Typography component=\"h1\" variant=\"h5\">\n                  Авторизация\n              </Typography>\n              <Box component=\"form\" noValidate sx={{ mt: 1 }}>\n                  <TextField\n                       onChange={ e => setEmail(e.target.value) }\n                      value={ email }\n                      margin=\"normal\"\n                      required\n                      fullWidth\n                      id=\"email\"\n                      label=\"Email Address\"\n                      name=\"email\"\n                      autoComplete=\"email\"\n                      autoFocus\n                  />\n                  <TextField\n                   onChange={ e => setPassword(e.target.value) }\n                      value={ password }\n                      margin=\"normal\"\n                      required\n                      fullWidth\n                      name=\"password\"\n                      label=\"Пароль\"\n                      type=\"password\"\n                      id=\"password\"\n                      autoComplete=\"current-password\"\n                  />\n                  <Button\n                      fullWidth\n                      variant=\"contained\"\n                      sx={{ mt: 3, mb: 2 }}\n                      onClick={ () => store.login(email, password) }\n                  >\n                  Войти\n                  </Button>\n                  <Button\n                      fullWidth\n                      variant=\"outlined\"\n                      sx={{ mt: 1, mb: 2 }}\n                      onClick={ () => store.setSignIn() }\n                  >\n                   Нет аккаунта? Зарегистрироваться\n                  </Button>\n              </Box>\n          </Box>\n        </Container>\n    </ThemeProvider>\n  );\n}\n\nexport default observer(SignIn)","/Users/agladkich/todo-list/todo-list-gladkikh/client/src/components/Signup.tsx",[],[],{"ruleId":"119","severity":1,"message":"120","line":16,"column":8,"nodeType":"121","endLine":16,"endColumn":10,"suggestions":"122"},{"ruleId":"123","severity":1,"message":"124","line":55,"column":19,"nodeType":"125","messageId":"126","endLine":55,"endColumn":27},{"ruleId":"123","severity":1,"message":"127","line":3,"column":9,"nodeType":"125","messageId":"126","endLine":3,"endColumn":21},{"ruleId":"123","severity":1,"message":"128","line":3,"column":9,"nodeType":"125","messageId":"126","endLine":3,"endColumn":14},{"ruleId":"123","severity":1,"message":"129","line":4,"column":9,"nodeType":"125","messageId":"126","endLine":4,"endColumn":14},{"ruleId":"123","severity":1,"message":"130","line":2,"column":8,"nodeType":"125","messageId":"126","endLine":2,"endColumn":14},{"ruleId":"119","severity":1,"message":"120","line":23,"column":6,"nodeType":"121","endLine":23,"endColumn":8,"suggestions":"131"},{"ruleId":"123","severity":1,"message":"124","line":60,"column":19,"nodeType":"125","messageId":"126","endLine":60,"endColumn":27},{"ruleId":"123","severity":1,"message":"127","line":3,"column":9,"nodeType":"125","messageId":"126","endLine":3,"endColumn":21},{"ruleId":"123","severity":1,"message":"128","line":3,"column":9,"nodeType":"125","messageId":"126","endLine":3,"endColumn":14},{"ruleId":"123","severity":1,"message":"129","line":4,"column":9,"nodeType":"125","messageId":"126","endLine":4,"endColumn":14},{"ruleId":"123","severity":1,"message":"132","line":6,"column":8,"nodeType":"125","messageId":"126","endLine":6,"endColumn":12},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'store'. Either include it or remove the dependency array.","ArrayExpression",["133"],"@typescript-eslint/no-unused-vars","'response' is assigned a value but never used.","Identifier","unusedVar","'AuthResponse' is defined but never used.","'store' is defined but never used.","'IUser' is defined but never used.","'AppBar' is defined but never used.",["134"],"'Link' is defined but never used.",{"desc":"135","fix":"136"},{"desc":"135","fix":"137"},"Update the dependencies array to be: [store]",{"range":"138","text":"139"},{"range":"140","text":"139"},[511,513],"[store]",[586,588]]