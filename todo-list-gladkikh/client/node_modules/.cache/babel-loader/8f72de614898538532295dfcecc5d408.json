{"ast":null,"code":"var _jsxFileName = \"/Users/agladkich/todo-list/todo-list-gladkikh/client/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect, useState } from 'react';\nimport { observer } from 'mobx-react-lite';\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport { Button } from \"@material-ui/core\";\nimport { Context } from '.';\nimport LoginForm from './components/LoginForm';\nimport ExitToAppIcon from '@mui/icons-material/ExitToApp';\nimport './App.css';\nimport TodosMap from './components/Todos/TodosMap';\nimport NavBar from './components/Todos/NavBar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const {\n    store\n  } = useContext(Context);\n  const [todo, setTodo] = useState('');\n  const [todoList, setTodoList] = useState([]);\n  const [boleanTodo, setBoleanTodo] = React.useState(false);\n  const [todoId, setTodoId] = React.useState('');\n  React.useEffect(() => {\n    const storedTodos = JSON.parse(localStorage.getItem(KEY));\n\n    if (storedTodos) {\n      setTodoList(storedTodos);\n    }\n  }, []);\n  React.useEffect(() => {\n    localStorage.setItem(KEY, JSON.stringify(todoList));\n  }, [todoList]);\n\n  const addTodo = e => {\n    console.log(todoList);\n    e.preventDefault();\n\n    if (todo === '') {\n      return;\n    }\n\n    setTodoList([...todoList, {\n      id: uniqid(),\n      todo,\n      tc: false\n    }]);\n    setTodo('');\n  };\n\n  const dellTodo = id => {\n    const newTodos = todoList.filter(item => item.id !== id);\n    setTodoList(newTodos);\n  };\n\n  const btnEditTodo = item => {\n    setBoleanTodo(true);\n    setTodoId(item.id);\n    setTodo(item.todo);\n  };\n\n  const editTodo = e => {\n    e.preventDefault();\n\n    if (todo === '') {\n      return;\n    }\n\n    const newTodos = todoList.map(item => item.id === todoId ? {\n      id: uniqid(),\n      todo,\n      tc: false\n    } : item);\n    setTodoList(newTodos);\n    setBoleanTodo(false);\n    setTodoId('');\n    setTodo('');\n  };\n\n  const cheked = (id, tc, todo) => {\n    console.log(id, tc, todo);\n    const newTodos = todoList.map(item => item.id === id ? {\n      id: uniqid(),\n      todo,\n      tc\n    } : item);\n    setTodoList(newTodos);\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      store.checkAuth();\n    }\n  }, []);\n\n  if (store.isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"...Loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (!store.isAuth) {\n    return /*#__PURE__*/_jsxDEV(LoginForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n      sx: {\n        borderBottom: 1,\n        borderColor: 'divider'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        color: store.user.isActivated ? 'primary' : 'error',\n        children: store.user.isActivated ? 'Аккаунт подтвержден' : 'Аккаунт не подтвержден'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        component: \"h2\",\n        variant: \"h5\",\n        color: \"inherit\",\n        align: \"center\",\n        noWrap: true,\n        sx: {\n          flex: 1\n        },\n        children: `Добро пожаловать ${store.user.email}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        size: \"small\",\n        onClick: () => store.logout(),\n        children: [/*#__PURE__*/_jsxDEV(ExitToAppIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), \"\\u0412\\u044B\\u0439\\u0442\\u0438 \\u0438\\u0437 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Toolbar, {\n      component: \"nav\",\n      variant: \"dense\",\n      sx: {\n        justifyContent: 'space-between',\n        overflowX: 'auto'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NavBar, {\n      add: addTodo,\n      todo: todo // setTodo\n      ,\n      input: setTodo,\n      bolean: boleanTodo,\n      setBtnToEdit: editTodo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), todoList.length ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"d-flex justify-content-center mt-1\",\n      children: [\"You have \", todoList.filter(todo => !todo.tc).length, \" tasks to complete!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(TodosMap, {\n      list: todoList,\n      editBtn: btnEditTodo,\n      dell: dellTodo,\n      chek: cheked\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"+maVnIws8TsZ/3s5fX09969oJtc=\");\n\n_c = App;\nexport default _c2 = observer(App);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/agladkich/todo-list/todo-list-gladkikh/client/src/App.tsx"],"names":["useContext","useEffect","useState","observer","Toolbar","Typography","Button","Context","LoginForm","ExitToAppIcon","TodosMap","NavBar","App","store","todo","setTodo","todoList","setTodoList","boleanTodo","setBoleanTodo","React","todoId","setTodoId","storedTodos","JSON","parse","localStorage","getItem","KEY","setItem","stringify","addTodo","e","console","log","preventDefault","id","uniqid","tc","dellTodo","newTodos","filter","item","btnEditTodo","editTodo","map","cheked","checkAuth","isLoading","isAuth","borderBottom","borderColor","user","isActivated","flex","email","logout","justifyContent","overflowX","length"],"mappings":"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","sourcesContent":["import { useContext, useEffect, useState, useRef } from 'react';\nimport AppBar from '@mui/material/AppBar';\nimport { observer } from 'mobx-react-lite'\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport { Button } from \"@material-ui/core\";\n\nimport { Context } from '.';\nimport LoginForm from './components/LoginForm';\n\nimport ExitToAppIcon from '@mui/icons-material/ExitToApp';\nimport './App.css';\nimport TodosMap from './components/Todos/TodosMap';\nimport NavBar from './components/Todos/NavBar';\n\nfunction App() {\n  const { store } = useContext(Context);\n  const [todo, setTodo] = useState<string>('');\n  const [todoList, setTodoList] = useState([]);\n  const [boleanTodo, setBoleanTodo] = React.useState(false);\n  const [todoId, setTodoId] = React.useState('');\n\n  React.useEffect(() => {\n    const storedTodos = JSON.parse(localStorage.getItem(KEY));\n    if (storedTodos) {\n      setTodoList(storedTodos);\n    }\n  }, []);\n\n  React.useEffect(() => {\n    localStorage.setItem(KEY, JSON.stringify(todoList));\n  }, [todoList]);\n\n  const addTodo = (e) => {\n    console.log(todoList);\n    e.preventDefault();\n    if (todo === '') {\n      return;\n    }\n    setTodoList([...todoList, { id: uniqid(), todo, tc: false }]);\n    setTodo('');\n  };\n\n  const dellTodo = (id) => {\n    const newTodos = todoList.filter((item) => item.id !== id);\n\n    setTodoList(newTodos);\n  };\n\n  const btnEditTodo = (item) => {\n    setBoleanTodo(true);\n    setTodoId(item.id);\n\n    setTodo(item.todo);\n  };\n\n  const editTodo = (e) => {\n    e.preventDefault();\n\n    if (todo === '') {\n      return;\n    }\n\n    const newTodos = todoList.map((item) =>\n      item.id === todoId ? { id: uniqid(), todo, tc: false } : item\n    );\n\n    setTodoList(newTodos);\n    setBoleanTodo(false);\n    setTodoId('');\n    setTodo('');\n  };\n\n  const cheked = (id, tc, todo) => {\n    console.log(id, tc, todo);\n\n    const newTodos = todoList.map((item) =>\n      item.id === id ? { id: uniqid(), todo, tc } : item\n    );\n    setTodoList(newTodos);\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      store.checkAuth();\n    }\n  }, []);\n\n  if (store.isLoading){\n    return (\n      <div>...Loading</div>\n    )\n  }\n\n  if (!store.isAuth) {\n    return (\n      <LoginForm />\n    )\n  }\n\n  return (\n    <div>\n      <Toolbar sx={{ borderBottom: 1, borderColor: 'divider' }}>\n        <Typography  variant=\"subtitle1\" color={ store.user.isActivated ? 'primary' : 'error' }>\n          { store.user.isActivated ? 'Аккаунт подтвержден' : 'Аккаунт не подтвержден' }\n        </Typography>\n        <Typography\n          component=\"h2\"\n          variant=\"h5\"\n          color=\"inherit\"\n          align=\"center\"\n          noWrap\n          sx={{ flex: 1 }}\n        >\n         { `Добро пожаловать ${ store.user.email  }` }\n        </Typography>\n        <Button variant=\"outlined\" size=\"small\" onClick={ () => store.logout() }>\n          <ExitToAppIcon/>\n          Выйти из аккаунта\n        </Button>\n      </Toolbar>\n      <Toolbar\n        component=\"nav\"\n        variant=\"dense\"\n        sx={{ justifyContent: 'space-between', overflowX: 'auto' }}\n      >\n      </Toolbar>\n      <NavBar\n        add={addTodo}\n        todo={todo} // setTodo\n        input={setTodo}\n        bolean={boleanTodo}\n        setBtnToEdit={editTodo}\n      />\n      {todoList.length ? (\n        <p className=\"d-flex justify-content-center mt-1\">\n          You have {todoList.filter((todo) => !todo.tc).length} tasks to\n          complete!\n        </p>\n      ) : null}\n      <TodosMap\n        list={todoList}\n        editBtn={btnEditTodo}\n        dell={dellTodo}\n        chek={cheked}\n      />\n    </div>\n  );\n}\n\nexport default observer(App);\n"]},"metadata":{},"sourceType":"module"}