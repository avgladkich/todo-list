{"ast":null,"code":"var _jsxFileName = \"/Users/agladkich/todo-list/todo-list-gladkikh/client/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect, useState } from 'react';\nimport { observer } from 'mobx-react-lite';\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport { Button } from \"@material-ui/core\";\nimport { Context } from '.';\nimport LoginForm from './components/LoginForm';\nimport ExitToAppIcon from '@mui/icons-material/ExitToApp';\nimport './App.css';\nimport TodosMap from './components/Todos/TodosMap';\nimport HeaderTodo from './components/Todos/HeaderTodo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst KEY = 'todoApp.todos';\n\nfunction App() {\n  _s();\n\n  const {\n    store\n  } = useContext(Context);\n  const [todo, setTodo] = useState('');\n  const [todoList, setTodoList] = useState([]);\n  const [boleanTodo, setBoleanTodo] = useState(false);\n  const [todoId, setTodoId] = useState('');\n  useEffect(() => {\n    const storedTodos = JSON.parse(localStorage.getItem(KEY));\n\n    if (storedTodos) {\n      setTodoList(storedTodos);\n    }\n  }, []);\n  useEffect(() => {\n    localStorage.setItem(KEY, JSON.stringify(todoList));\n  }, [todoList]);\n\n  const addTodo = e => {\n    console.log(todoList);\n    e.preventDefault();\n\n    if (todo === '') {\n      return;\n    }\n\n    setTodoList([...todoList, {\n      id: Date.now(),\n      todo,\n      tc: false\n    }]);\n    setTodo('');\n  };\n\n  const dellTodo = id => {\n    const newTodos = todoList.filter(item => item.id !== id);\n    setTodoList(newTodos);\n  };\n\n  const btnEditTodo = item => {\n    setBoleanTodo(true);\n    setTodoId(item.id);\n    setTodo(item.todo);\n  };\n\n  const editTodo = e => {\n    e.preventDefault();\n\n    if (todo === '') {\n      return;\n    }\n\n    const newTodos = todoList.map(item => item.id === todoId ? {\n      id: Date.now(),\n      todo,\n      tc: false\n    } : item);\n    setTodoList(newTodos);\n    setBoleanTodo(false);\n    setTodoId('');\n    setTodo('');\n  };\n\n  const cheked = (id, tc, todo) => {\n    console.log(id, tc, todo);\n    const newTodos = todoList.map(item => item.id === id ? {\n      id: Date.now(),\n      todo,\n      tc\n    } : item);\n    setTodoList(newTodos);\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      store.checkAuth();\n    }\n  }, []);\n\n  if (store.isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"...Loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (!store.isAuth) {\n    return /*#__PURE__*/_jsxDEV(LoginForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n      sx: {\n        borderBottom: 1,\n        borderColor: 'divider'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        color: store.user.isActivated ? 'primary' : 'error',\n        children: store.user.isActivated ? 'Аккаунт подтвержден' : 'Аккаунт не подтвержден'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        component: \"h2\",\n        variant: \"h5\",\n        color: \"inherit\",\n        align: \"center\",\n        noWrap: true,\n        sx: {\n          flex: 1\n        },\n        children: `Добро пожаловать ${store.user.email}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        size: \"small\",\n        onClick: () => store.logout(),\n        children: [/*#__PURE__*/_jsxDEV(ExitToAppIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), \"\\u0412\\u044B\\u0439\\u0442\\u0438 \\u0438\\u0437 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(HeaderTodo, {\n      add: addTodo,\n      todo: todo // setTodo\n      ,\n      input: setTodo,\n      bolean: boleanTodo,\n      setBtnToEdit: editTodo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), todoList.length ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"d-flex justify-content-center mt-1\",\n      children: [\"\\u0412\\u0430\\u043C \\u043E\\u0441\\u0442\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0432\\u0435\\u0440\\u0448\\u0438\\u0442\\u044C \", todoList.filter(todo => !todo.tc).length, \" \\u0437\\u0430\\u0434\\u0430\\u0447\\u0438!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(TodosMap, {\n      list: todoList,\n      editBtn: btnEditTodo,\n      dell: dellTodo,\n      chek: cheked\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"+maVnIws8TsZ/3s5fX09969oJtc=\");\n\n_c = App;\nexport default _c2 = observer(App);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/agladkich/todo-list/todo-list-gladkikh/client/src/App.tsx"],"names":["useContext","useEffect","useState","observer","Toolbar","Typography","Button","Context","LoginForm","ExitToAppIcon","TodosMap","HeaderTodo","KEY","App","store","todo","setTodo","todoList","setTodoList","boleanTodo","setBoleanTodo","todoId","setTodoId","storedTodos","JSON","parse","localStorage","getItem","setItem","stringify","addTodo","e","console","log","preventDefault","id","Date","now","tc","dellTodo","newTodos","filter","item","btnEditTodo","editTodo","map","cheked","checkAuth","isLoading","isAuth","borderBottom","borderColor","user","isActivated","flex","email","logout","length"],"mappings":"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","sourcesContent":["import { useContext, useEffect, useState, useRef } from 'react';\nimport { observer } from 'mobx-react-lite'\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport { Button } from \"@material-ui/core\";\n\nimport { Context } from '.';\nimport LoginForm from './components/LoginForm';\n\nimport ExitToAppIcon from '@mui/icons-material/ExitToApp';\nimport './App.css';\nimport TodosMap from './components/Todos/TodosMap';\nimport HeaderTodo from './components/Todos/HeaderTodo';\n\nconst KEY = 'todoApp.todos';\n\nfunction App() {\n  const { store } = useContext(Context);\n  const [todo, setTodo] = useState<string>('');\n  const [todoList, setTodoList] = useState([]);\n  const [boleanTodo, setBoleanTodo] = useState(false);\n  const [todoId, setTodoId] = useState('');\n\n  useEffect(() => {\n    const storedTodos = JSON.parse(localStorage.getItem(KEY));\n    if (storedTodos) {\n      setTodoList(storedTodos);\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(KEY, JSON.stringify(todoList));\n  }, [todoList]);\n\n  const addTodo = (e) => {\n    console.log(todoList);\n    e.preventDefault();\n    if (todo === '') {\n      return;\n    }\n    setTodoList([...todoList, { id: Date.now(), todo, tc: false }]);\n    setTodo('');\n  };\n\n  const dellTodo = (id) => {\n    const newTodos = todoList.filter((item) => item.id !== id);\n\n    setTodoList(newTodos);\n  };\n\n  const btnEditTodo = (item) => {\n    setBoleanTodo(true);\n    setTodoId(item.id);\n\n    setTodo(item.todo);\n  };\n\n  const editTodo = (e) => {\n    e.preventDefault();\n\n    if (todo === '') {\n      return;\n    }\n\n    const newTodos = todoList.map((item) =>\n      item.id === todoId ? { id: Date.now(), todo, tc: false } : item\n    );\n\n    setTodoList(newTodos);\n    setBoleanTodo(false);\n    setTodoId('');\n    setTodo('');\n  };\n\n  const cheked = (id, tc, todo) => {\n    console.log(id, tc, todo);\n\n    const newTodos = todoList.map((item) =>\n      item.id === id ? { id: Date.now(), todo, tc } : item\n    );\n    setTodoList(newTodos);\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      store.checkAuth();\n    }\n  }, []);\n\n  if (store.isLoading){\n    return (\n      <div>...Loading</div>\n    )\n  }\n\n  if (!store.isAuth) {\n    return (\n      <LoginForm />\n    )\n  }\n\n  return (\n    <div>\n      <Toolbar sx={{ borderBottom: 1, borderColor: 'divider' }}>\n        <Typography  variant=\"subtitle1\" color={ store.user.isActivated ? 'primary' : 'error' }>\n          { store.user.isActivated ? 'Аккаунт подтвержден' : 'Аккаунт не подтвержден' }\n        </Typography>\n        <Typography\n          component=\"h2\"\n          variant=\"h5\"\n          color=\"inherit\"\n          align=\"center\"\n          noWrap\n          sx={{ flex: 1 }}\n        >\n         { `Добро пожаловать ${ store.user.email  }` }\n        </Typography>\n        <Button variant=\"outlined\" size=\"small\" onClick={ () => store.logout() }>\n          <ExitToAppIcon/>\n          Выйти из аккаунта\n        </Button>\n      </Toolbar>\n      <HeaderTodo\n        add={addTodo}\n        todo={todo} // setTodo\n        input={setTodo}\n        bolean={boleanTodo}\n        setBtnToEdit={editTodo}\n      />\n      {todoList.length ? (\n        <p className=\"d-flex justify-content-center mt-1\">\n         Вам осталось завершить {todoList.filter((todo) => !todo.tc).length} задачи!\n        </p>\n      ) : null}\n      <TodosMap\n        list={todoList}\n        editBtn={btnEditTodo}\n        dell={dellTodo}\n        chek={cheked}\n      />\n    </div>\n  );\n}\n\nexport default observer(App);\n"]},"metadata":{},"sourceType":"module"}